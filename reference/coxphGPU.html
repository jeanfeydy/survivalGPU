<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Fast Cox Proportional Hazards Regression Model — coxphGPU • survivalGPU</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Fast Cox Proportional Hazards Regression Model — coxphGPU"><meta property="og:description" content="Fits a Cox proportional hazards regression model. An extension
to use (or not) your GPU to speed up calculations, in particular for
bootstrap.
Use summary() method to see confidence interval for covariates with two
process : normal distribution and bootstrap (if bootstrap &amp;gt; 1)."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survivalGPU</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Models</li>
    <li>
      <a href="../articles/coxPH.html">Cox Proportional Hazards regression</a>
    </li>
    <li>
      <a href="../articles/WCE.html">Weighted Cumulative Exposure : Signal detection</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/python_connect.html">Python Configuration</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/jeanfeydy/survivalGPU/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fast Cox Proportional Hazards Regression Model</h1>
    <small class="dont-index">Source: <a href="https://github.com/jeanfeydy/survivalGPU/blob/HEAD/R/coxphGPU.R" class="external-link"><code>R/coxphGPU.R</code></a></small>
    <div class="hidden name"><code>coxphGPU.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fits a Cox proportional hazards regression model. An extension
to use (or not) your GPU to speed up calculations, in particular for
bootstrap.</p>
<p>Use <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> method to see confidence interval for covariates with two
process : normal distribution and bootstrap (if <code>bootstrap &gt; 1</code>).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coxphGPU</span><span class="op">(</span><span class="va">formula</span>, <span class="va">data</span>, ties <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"efron"</span>, <span class="st">"breslow"</span><span class="op">)</span>, bootstrap <span class="op">=</span> <span class="fl">1</span>,</span>
<span>         batchsize <span class="op">=</span> <span class="fl">0</span>, <span class="va">init</span>, all.results <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">control</span>,</span>
<span>         singular.ok <span class="op">=</span> <span class="cn">TRUE</span>, model <span class="op">=</span> <span class="cn">FALSE</span>, x <span class="op">=</span> <span class="cn">FALSE</span>, y <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for coxphGPU</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span>, conf.int <span class="op">=</span> <span class="fl">0.95</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>formula</dt>
<dd><p>a formula object, with the response on the left of a ~
operator, and the terms on the right. The response must be a survival
object as returned by the Surv function.</p></dd>


<dt>data</dt>
<dd><p>a data.frame in which to interpret the variables named in 
    the <code>formula</code>, or in the <code>subset</code> and the <code>weights</code>
    argument.</p></dd>


<dt>ties</dt>
<dd><p>a character string specifying the method for tie handling.  If there  
    are no tied death times all the methods are equivalent. 
    Nearly all Cox regression programs use the Breslow method by default, 
    but not this one. 
    The Efron approximation is used as the default here, it is more 
    accurate when dealing with tied death times, and is as efficient 
    computationally. 
    The ``exact partial likelihood'' is 
    equivalent to a conditional logistic model, and is appropriate when
    the times are a small set of discrete values.  See further below.</p></dd>


<dt>bootstrap</dt>
<dd><p>Number of repeats for the bootstrap cross-validation.</p></dd>


<dt>batchsize</dt>
<dd><p>Number of bootstrap copies that should be handled at a time.
Defaults to 0, which means that we handle all copies at once. If you run
into out of memory errors, please consider using batchsize=100, 10 or 1.</p></dd>


<dt>init</dt>
<dd><p>vector of initial values of the iteration.  Default initial 
    value is zero for all variables.</p></dd>


<dt>all.results</dt>
<dd><p>Post-processing calculations. If TRUE, coxphGPU returns
linears.predictors, wald.test, concordance for all bootstraps. Default to
FALSE if bootstraps.</p></dd>


<dt>control</dt>
<dd><p>Object of class <code><a href="https://rdrr.io/pkg/survival/man/coxph.control.html" class="external-link">coxph.control</a></code> specifying iteration limit
    and other control options. Default is <code>coxph.control(...)</code>.</p></dd>


<dt>singular.ok</dt>
<dd><p>logical value indicating how to handle collinearity in the model matrix. 
    If <code>TRUE</code>, the program will automatically skip over columns of the X 
    matrix that are linear combinations of earlier columns.  In this case the 
    coefficients for such columns will be NA, and the variance matrix will 
    contain zeros. For ancillary calculations, such as the linear
    predictor, 
    the missing coefficients are treated as zeros.</p></dd>


<dt>model</dt>
<dd><p>logical value: if <code>TRUE</code>, the model frame is returned in component
    <code>model</code>.</p></dd>


<dt>x</dt>
<dd><p>logical value: if <code>TRUE</code>, the x matrix is returned in
    component <code>x</code>.</p></dd>


<dt>y</dt>
<dd><p>logical value: if <code>TRUE</code>, the response vector is returned in
    component <code>y</code>.</p></dd>


<dt>...</dt>
<dd><p>Other arguments for methods.</p></dd>


<dt>object</dt>
<dd><p>a coxphGPU object</p></dd>


<dt>conf.int</dt>
<dd><p>level for computation of the confidence intervals. 
    If set to FALSE no confidence intervals are printed</p></dd>


<dt>scale</dt>
<dd><p>vector of scale factors for the coefficients, defaults to 1. 
    The printed coefficients, se, and confidence intervals will be
    associated with one scale unit.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A coxphGPU object representing the fit.</p>


<p>With <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> :</p><ul><li><p><code>conf.int</code>:                  a matrix with one row for each coefficient,
containing the confidence limits for exp(coef).</p></li>
<li><p><code>conf.int_bootstrap</code>:        confidence limits for exp(coef) determined by
bootstrap</p></li>
<li><p><code>logtest, sctest, waldtest</code>: the overall likelihood ratio, score, and Wald
test statistics for the model</p></li>
<li><p><code>concordance</code>:               the concordance statistic and its standard
error</p></li>
<li><p><code>rsq</code>:                       an approximate R^2 based on Nagelkirke
(Biometrika 1991).</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Therneau T (2021). <em>A Package for Survival Analysis in R</em>. R
package version 3.2-13</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">survival::coxph()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/therneau/survival" class="external-link">survival</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">WCE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">drugdata</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check CUDA drivers (if FALSE you use CPU)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="use_cuda.html">use_cuda</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Cox Proportional Hazards without bootstrap</span></span></span>
<span class="r-in"><span><span class="fu">coxphGPU</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">Start</span>, <span class="va">Stop</span>, <span class="va">Event</span><span class="op">)</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">age</span>,</span></span>
<span class="r-in"><span>         data <span class="op">=</span> <span class="va">drugdata</span>,</span></span>
<span class="r-in"><span>         bootstrap <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Cox Proportional Hazards with bootstrap</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="use_cuda.html">use_cuda</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">n_bootstrap</span> <span class="op">&lt;-</span> <span class="fl">1000</span></span></span>
<span class="r-in"><span>  <span class="va">batchsize</span> <span class="op">&lt;-</span> <span class="fl">200</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">n_bootstrap</span> <span class="op">&lt;-</span> <span class="fl">50</span></span></span>
<span class="r-in"><span>  <span class="va">batchsize</span> <span class="op">&lt;-</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">coxph_bootstrap</span> <span class="op">&lt;-</span> <span class="fu">coxphGPU</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">Surv</a></span><span class="op">(</span><span class="va">Start</span>, <span class="va">Stop</span>, <span class="va">Event</span><span class="op">)</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">age</span>,</span></span>
<span class="r-in"><span>                            data <span class="op">=</span> <span class="va">drugdata</span>,</span></span>
<span class="r-in"><span>                            bootstrap <span class="op">=</span> <span class="va">n_bootstrap</span>,</span></span>
<span class="r-in"><span>                            batchsize <span class="op">=</span> <span class="va">batchsize</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">coxph_bootstrap</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jean FEYDY, Alexis van STRAATEN.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

